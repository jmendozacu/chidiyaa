<?php
/**
 * YOUAMA SOFTWARE
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the OSL 3.0 license.
 *
 *******************************************************************************
 * MAGENTO EDITION USAGE NOTICE
 *
 * This package designed for Magento Community Edition. Developer(s) of
 * YOUAMA.COM does not guarantee correct work of this extension on any other
 * Magento Edition except clear installed Magento Community Edition. YouAMA.com
 * does not provide extension support in case of incorrect usage.
 *******************************************************************************
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future.
 *******************************************************************************
 * @category   Youama
 * @package    Youama_Ajaxlogin
 * @copyright  Copyright (c) 2012-2016 David Belicza (http://www.youama.com)
 * @license    https://opensource.org/licenses/osl-3.0.php
 */

/**
 * @author David Belicza
 * @see Youama_Ajaxlogin_Block_Ajaxlogin
 */
?>

<?php // If user is not logged in ?>
<?php $getSession =Mage::getSingleton('core/session')->getMyValue(); ?>
<?php if (Mage::helper('customer')->isLoggedIn() != true) : ?>

    <?php // Loader animation ?>
    <div class="youama-ajaxlogin-loader">
    </div>

    <?php // Login window ?>
    <div class="youama-login-window">
        <div class="youama-window-outside">
            
            <div class="youama-window-inside">
			<div class="social-login-logo">
			<img width="240px"src="<?php echo $this->getSkinUrl()?>images/popuplogo.png">
                <!--<div class="youama-window-title">
                    <h3>
                        <?php // echo $this->__('Join now for exclusive access to unique collections') ?>
                    </h3>
                </div>-->
                <?php
                    if(Mage::getStoreConfig('softprodigy_sociallogin/general/showonloginpage') == 'inloginbox'){ ?>
                        <style type="text/css">
                            .softprodigy-social-button-login .softprodigy-icon-social{
                                float: left;
                            }
                        </style>
                        <?php
                        $block = new SoftProdigy_SocialLogin_Block_Button();
                        $check_show_social = Mage::helper('softprodigy_sociallogin')->checkShowSociallogin();
                        if($check_show_social == true && Mage::getSingleton('customer/session')->IsLoggedIn() == false): ?>
                            <link type="text/css" rel="stylesheet" media="screen" href="<?php echo $block->getSkinUrl('softprodigy_sociallogin/css/style.css');?>"/>
                            <script type="text/javascript" src="<?php echo $block->getSkinUrl('softprodigy_sociallogin/js/sociallogin.js');?>"></script>
                            <div class="softprodigy-socialconnect-social">
                                <p class="social-heading"><?php echo $this->__('Join now for exclusive access to unique collections ') ?></p>
                                <div class="softprodigy-social-button-login">
                                    <?php
                                    if($block->getButtons()){
                                        foreach($block->getButtons() as $button){
                                            echo $button->render();
                                        }
                                    }
                                    ?>
                                </div>
                            </div>
                        <?php endif;
                    } ?>
                    <p class="seperator" style="position:relative;border-bottom:#A7A6A6 dotted 2px; text-align:center;margin: 0 15px 0 11px;"><span style="position:relative;background:#ffffff;padding:5px;top:10px;">Or</span></p>
					</div>
                <div class="youama-window-box first">
                    <div class="youama-window-subtitle youama-showhideme">
                        <p><?php echo $this->__('Member Sign in') ?></p>
                    </div>
                    <div class="youama-window-content">
                        <div class="input-fly youama-showhideme">
                            <label for="youama-email"><?php echo $this->__('E-mail address') ?> <span>*</span></label>
                            <input type="text" placeholder="<?php echo $this->__('E-mail address') ?>" id="youama-email" name="youama-email" value="" />
                            <div class="youama-ajaxlogin-error err-email err-noemail err-wrongemail err-wronglogin"></div>
                        </div>
                        <div class="input-fly youama-showhideme">
                            <label for="youama-password"><?php echo $this->__('Password') ?> <span>*</span></label>
                            <input type="password" placeholder="<?php echo $this->__('Password') ?>" id="youama-password" name="youama-password" value="" />
                            <div class="youama-ajaxlogin-error err-password err-dirtypassword err-nopassword err-longpassword"></div>
                        </div>
                    </div>
                </div>
                
                <div class="youama-window-box last">
                    <div class="youama-window-content box-contents box-contents-button youama-showhideme">
                        <span class="youama-forgot-password">
                            <a href="<?php echo Mage::getBaseUrl() ?>customer/account/forgotpassword/"><?php echo $this->__('Forgot Password') ?></a>
                        </span>
                        <button type="button" class="button btn-proceed-checkout btn-checkout youama-ajaxlogin-button">
                            <span>
                                <span>
                                    <?php echo $this->__('Login') ?>
                                </span>
                            </span>
                        </button>
                        <p id="y-to-register" class="yoauam-switch-window">
                            <?php echo $this->__('Join Now') ?>
                        </p>
                    </div>
                </div>
                
            </div>
            <span class="close close-pop-up"><?php echo $this->__("I'll join later") ?></span>
        </div>
    </div>

 
    <?php // Register window ?>
    <div class="youama-register-window">
        <div class="youama-window-outside">
          

            <div class="youama-window-inside">
				<img src="<?php echo $this->getSkinUrl()?>images/popuplogo.png" width="240px">
                <!--<div class="youama-window-title">
                    <h3>
                        <?php // echo $this->__('Join now for exclusive access to unique collections') ?>
                    </h3>
                </div>-->
                <?php
                    if(Mage::getStoreConfig('softprodigy_sociallogin/general/showonloginpage') == 'inloginbox'){ ?>
                        <style type="text/css">
                            .softprodigy-social-button-login .softprodigy-icon-social{
                                float: left;
                            }
                        </style>
                        <?php
                        $block = new SoftProdigy_SocialLogin_Block_Button();
                        $check_show_social = Mage::helper('softprodigy_sociallogin')->checkShowSociallogin();
                        if($check_show_social == true && Mage::getSingleton('customer/session')->IsLoggedIn() == false): ?>
                            <link type="text/css" rel="stylesheet" media="screen" href="<?php echo $block->getSkinUrl('softprodigy_sociallogin/css/style.css');?>"/>
                            <script type="text/javascript" src="<?php echo $block->getSkinUrl('softprodigy_sociallogin/js/sociallogin.js');?>"></script>
                            <div class="softprodigy-socialconnect-social">
                                <p class="social-heading"><?php echo $this->__('Join now for exclusive access to unique collections ') ?></p>
                                <div class="softprodigy-social-button-login">
                                    <?php
                                    if($block->getButtons()){
                                        foreach($block->getButtons() as $button){
                                            echo $button->render();
                                        }
                                    }
                                    ?>
                                </div>
                            </div>
                        <?php endif;
                    } ?>
                    <p class="seperator" style="position:relative;border-bottom:#A7A6A6 dotted 2px; text-align:center;margin: 0 15px 0 11px;"><span style="position:relative;background:#ffffff;padding:5px;top:10px;">Or</span></p>
					</div>
               <!-- <div class="youama-window-box first">
                    <div class="youama-window-subtitle youama-showhideme">
                        <p><?php echo $this->__('Profile Informations') ?></p>
                    </div>
                    <div class="youama-window-content">
                        <div class="input-fly youama-showhideme">
                            <label for="youama-firstname"><?php echo $this->__('First Name') ?> <span>*</span></label>
                            <input type="text" placeholder="<?php echo $this->__('First Name') ?>" id="youama-firstname" name="youama-firstname" value="" />
                            <div class="youama-ajaxlogin-error err-firstname err-nofirstname err-dirtyfirstname"></div>
                        </div>
                        <div class="input-fly youama-showhideme">
                            <label for="youama-lastname"><?php echo $this->__('Last Name') ?> <span>*</span></label>
                            <input type="text" placeholder="<?php echo $this->__('Last Name') ?>" id="youama-lastname" name="youama-lastname" value="" />
                            <div class="youama-ajaxlogin-error err-lastname err-nolastname err-dirtylastname"></div>
                        </div>
                        <div class="input-fly input-fly-checkbox youama-showhideme">
                            <input type="checkbox" id="youama-newsletter" name="youama-newsletter" value="ok" />
                            <label for="youama-newsletter"><?php echo $this->__('Subscribe to Newsletter') ?></label>
                        </div>
                    </div>
                </div>-->
				<input type="hidden" value="<?php echo $this->__('enter') ?>" id="youama-firstname" name="youama-firstname" value="" />
				<input type="hidden" value="<?php echo $this->__('your name') ?>" id="youama-lastname" name="youama-lastname" value="" />
                <div class="youama-window-box second">
                    <div class="youama-window-subtitle youama-showhideme show-for-joinnow">
                        <p><?php echo $this->__('Your email address') ?></p>
                    </div>
                    <div class="youama-window-subtitle youama-showhideme hide-for-joinnow">
                        <p><?php echo $this->__('Almost there!') ?></p>
                    </div>
                    <div class="youama-window-content">
                        <div class="input-fly youama-showhideme show-for-joinnow">
                            <label for="youama-email"><?php echo $this->__('E-mail address') ?> <span>*</span></label>
                            <input type="text" placeholder="<?php echo $this->__('E-mail address') ?>" id="youama-email" name="youama-email" value="" />
                            <div class="youama-ajaxlogin-error err-email err-noemail err-wrongemail err-emailisexist"></div>
                        </div>
                        <div class="input-fly youama-showhideme hide-for-joinnow">
                            <label for="youama-password"><?php echo $this->__('Password') ?> <span>*</span></label>
                            <input type="password" placeholder="<?php echo $this->__('Password') ?>" id="youama-password" name="youama-password" value="" />
                            <div class="youama-ajaxlogin-error err-password err-dirtypassword err-nopassword err-shortpassword err-longpassword"></div>
                        </div>
                        <div class="input-fly youama-showhideme hide-for-joinnow">
                            <label for="youama-passwordsecond"><?php echo $this->__('Password confirmation') ?> <span>*</span></label>
                            <input type="password" placeholder="<?php echo $this->__('Password confirmation') ?>" id="youama-passwordsecond" name="youama-passwordsecond" value="" />
                            <div class="youama-ajaxlogin-error err-passwordsecond err-nopasswordsecond err-notsamepasswords"></div>
                        </div>
                        <div class="input-fly input-fly-checkbox youama-showhideme hide-for-joinnow">
                            <input type="checkbox" id="youama-licence" name="youama-licence" value="ok" />
                            <label for="youama-licence"><?php echo $this->__('I accept the') ?> <a href="#" target="_blank"><?php echo $this->__('Terms and Coditions') ?></a></label>
                            <div class="youama-ajaxlogin-error err-nolicence"></div>
                        </div>
                    </div>
                </div>

                <div class="youama-window-box last">
                    <div class="youama-window-content box-contents youama-showhideme">
                        <button type="button" class="button btn-proceed-checkout btn-checkout youama-ajaxlogin-button show-for-joinnow">
                            <span>
                                <span>
                                    <?php echo $this->__('Join Now') ?>
                                </span>
                            </span>
                        </button>
                         <button type="button" class="button btn-proceed-checkout btn-checkout youama-ajaxlogin-button hide-for-joinnow">
                            <span>
                                <span>
                                    <?php echo $this->__('Enter') ?>
                                </span>
                            </span>
                        </button>
                        <p id="y-to-login" class="yoauam-switch-window">
                            <?php echo $this->__('or login') ?>
                        </p>
                    </div>
                </div>
                <span class="close close-pop-up"><?php echo $this->__("I'll join later") ?></span>
            </div>
        </div>
    </div>

    <?php // Error messages ?>
    <div class="youama_ajaxlogin-temp-error" style="display:none !important;">
        <div class="ytmpa-nofirstname"><?php echo $this->__('First name is required!') ?></div>
        <div class="ytmpa-nolastname"><?php echo $this->__('Last name is required!') ?></div>
        <div class="ytmpa-dirtyfirstname"><?php echo $this->__('First name is not valid!') ?></div>
        <div class="ytmpa-dirtylastname"><?php echo $this->__('Last name is not valid!') ?></div>

        <div class="ytmpa-wrongemail"><?php echo $this->__('This is not an email address!') ?></div>
        <div class="ytmpa-noemail"><?php echo $this->__('Email address is required!') ?></div>
        <div class="ytmpa-emailisexist"><?php echo $this->__('This email is already registered!') ?></div>

        <div class="ytmpa-nopassword"><?php echo $this->__('Password is required!') ?></div>
        <div class="ytmpa-dirtypassword"><?php echo $this->__('Enter a valid password!') ?></div>
        <div class="ytmpa-shortpassword"><?php echo $this->__('Please enter 6 or more characters!') ?></div>
        <div class="ytmpa-longpassword"><?php echo $this->__('Please enter 16 or less characters!') ?></div>
        <div class="ytmpa-notsamepasswords"><?php echo $this->__('Passwords are not same!') ?></div>
        <div class="ytmpa-nolicence"><?php echo $this->__('Terms and Conditions are required!') ?></div>
        
        <div class="ytmpa-wronglogin"><?php echo $this->__('Email or Password is wrong!') ?></div>
    </div>

    <?php // Youama jQuery plugin for ajax call and windows ?>
    <script type="text/javascript">
        //<![CDATA[
            jQuery(document).ready(function(){
                jQuery().youamaAjaxLogin({
                    redirection : '<?php echo $this->isRedirectToProfile() ?>',
                    profileUrl : '<?php echo Mage::getBaseUrl() ?>customer/account/',
                    autoShowUp : '<?php echo $autoShowUp = (isset($_GET['yregister'])) ? 'yes' : 'no' ?>',
                    controllerUrl : '<?php echo $this->getUrl('youama_ajaxlogin/ajax/index') ?>'
                });

                jQuery('.youama-window-box .hide-for-joinnow').hide();

            });


        //]]>
    </script>

<?php endif ?>
<?php 
$myValue = 1;
Mage::getSingleton('core/session')->setMyValue($myValue);
?>