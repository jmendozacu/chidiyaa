var PointerManager={MOUSE_POINTER_TYPE:"mouse",TOUCH_POINTER_TYPE:"touch",POINTER_EVENT_TIMEOUT_MS:500,standardTouch:!1,touchDetectionEvent:null,lastTouchType:null,pointerTimeout:null,pointerEventLock:!1,getPointerEventsSupported:function(){return this.standardTouch},getPointerEventsInputTypes:function(){return window.navigator.pointerEnabled?{MOUSE:"mouse",TOUCH:"touch",PEN:"pen"}:window.navigator.msPointerEnabled?{MOUSE:4,TOUCH:2,PEN:3}:{}},getPointer:function(){return Modernizr.ios?this.TOUCH_POINTER_TYPE:this.lastTouchType?this.lastTouchType:Modernizr.touch?this.TOUCH_POINTER_TYPE:this.MOUSE_POINTER_TYPE},setPointerEventLock:function(){this.pointerEventLock=!0},clearPointerEventLock:function(){this.pointerEventLock=!1},setPointerEventLockTimeout:function(){var t=this;this.pointerTimeout&&clearTimeout(this.pointerTimeout),this.setPointerEventLock(),this.pointerTimeout=setTimeout(function(){t.clearPointerEventLock()},this.POINTER_EVENT_TIMEOUT_MS)},triggerMouseEvent:function(t){this.lastTouchType!=this.MOUSE_POINTER_TYPE&&(this.lastTouchType=this.MOUSE_POINTER_TYPE,$j(window).trigger("mouse-detected",t))},triggerTouchEvent:function(t){this.lastTouchType!=this.TOUCH_POINTER_TYPE&&(this.lastTouchType=this.TOUCH_POINTER_TYPE,$j(window).trigger("touch-detected",t))},initEnv:function(){window.navigator.pointerEnabled?(this.standardTouch=!0,this.touchDetectionEvent="pointermove"):window.navigator.msPointerEnabled?(this.standardTouch=!0,this.touchDetectionEvent="MSPointerMove"):this.touchDetectionEvent="touchstart"},wirePointerDetection:function(){var t=this;this.standardTouch?$j(window).on(this.touchDetectionEvent,function(e){switch(e.originalEvent.pointerType){case t.getPointerEventsInputTypes().MOUSE:t.triggerMouseEvent(e);break;case t.getPointerEventsInputTypes().TOUCH:case t.getPointerEventsInputTypes().PEN:t.triggerTouchEvent(e)}}):($j(window).on(this.touchDetectionEvent,function(e){t.pointerEventLock||(t.setPointerEventLockTimeout(),t.triggerTouchEvent(e))}),$j(document).on("mouseover",function(e){t.pointerEventLock||(t.setPointerEventLockTimeout(),t.triggerMouseEvent(e))}))},init:function(){this.initEnv(),this.wirePointerDetection()}},ProductMediaManager={IMAGE_ZOOM_THRESHOLD:20,imageWrapper:null,destroyZoom:function(){},initZoom:function(){},wireThumbnails:function(){},createZoom:function(t){var e=$j(".product-img-box .product-image img"),i=e.attr("srcset"),o=t.attr("src");if(e.attr("src",o),i)if(t.attr("srcset"))e.attr("srcset",t.attr("srcset"));else{var n="";i.split(",").each(function(t){t=t.split(" "),n=o+" "+t[1]}),e.attr("srcset",n)}},swapImage:function(t){(t=$j(t)).addClass("gallery-image");var e=$j(".product-img-box .product-image");t[0].complete?ProductMediaManager.createZoom(t):(e.addClass("loading"),imagesLoaded(t,function(){e.removeClass("loading"),ProductMediaManager.createZoom(t)}))},init:function(){ProductMediaManager.imageWrapper=$j(".product-img-box"),$j(document).trigger("product-media-loaded",ProductMediaManager)}};$j(document).ready(function(){ProductMediaManager.init()}),document.observe("dom:loaded",function(){"undefined"!=typeof Product&&void 0!==Product.ConfigurableSwatches&&(Product.ConfigurableSwatches.prototype.initialize=Product.ConfigurableSwatches.prototype.initialize.wrap(function(t,e){this._E.activeConfigurableOptions=[],this._E.allConfigurableOptions=[],t(e)})),"undefined"!=typeof ConfigurableMediaImages&&(ConfigurableMediaImages.init=ConfigurableMediaImages.init.wrap(function(t,e){ConfigurableMediaImages.imageType&&(e=ConfigurableMediaImages.imageType),t(e)}),ConfigurableMediaImages.setImageFallback=function(t,e){for(var i in e){var o=ConfigurableMediaImages.productImages[t]?ConfigurableMediaImages.productImages[t][i]:void 0;o&&(void 0===o.length||o.length)||(ConfigurableMediaImages.productImages[t]?ConfigurableMediaImages.productImages[t][i]=e[i]:ConfigurableMediaImages.productImages[t]=e)}},ConfigurableMediaImages.arrayIntersect=ConfigurableMediaImages.arrayIntersect.wrap(function(t,e,i){return e.sort(),i.sort(),t(e,i)}))});
